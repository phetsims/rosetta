<!-- Copyright 2002-2015, University of Colorado Boulder -->

<div class="container">
  <h1>{{=it.title}}</h1>

  <h4><a href="/translate/">Translate Another Simulation</a></h4>

  <div class="validation-message"></div>
  <div class="top-btns">
    <button type="button" class="btn translate-btn" id="testButtonTop">Test</button>
    <button type="button" class="btn translate-btn" id="saveButtonTop" form="strings">Save</button>
    <button type="submit" class="btn translate-btn" form="strings">Submit</button>
    <a class="btn translate-btn" href="https://docs.google.com/document/d/11BLxC7eDct6eifH1-nR6tWaxlnGeNEn2SPquT-lIUgY/edit" target="_blank">
      Help <i class="fa fa-question-circle"></i>
    </a>
    <span class="saving-gif">Saving... <img src="/translate/img/spinning-wheel.gif"></span>
    <span class="savedSpan" id="savedTop"><br><br>Saved</span>
  </div>

  <form name="form" id="strings" method="post">
    <h2>{{=it.simTitle}} Strings</h2>
    <table class="rosetta-table">
      <tr>
        <th><strong>String Key</strong></th>
        <th><strong>English</strong></th>
        <th><strong>{{=it.destinationLanguage}}</strong></th>
      </tr>
      {{~it.currentSimStringsArray :value:index}}
      <tr data-string-key={{=value.key}} data-string-repo={{=value.repo}}>
        <td>{{=value.key}}</td>
        <td>{{=value.englishValue}}</td>
        <td>
          <div contenteditable="true">{{=value.value}}</div>
          <input type="hidden" name="{{=value.repo}} {{=value.key}}" value="{{=value.value}}">
        </td>
      </tr>
      {{~}}
    </table>

    {{? it.otherSimNames}}
      <h2>Shared Strings (will affect {{=it.otherSimNames}})</h2>
      <table class="rosetta-table">
        <tr>
          <th><strong>String Key</strong></th>
          <th><strong>English</strong></th>
          <th><strong>{{=it.destinationLanguage}}</strong></th>
        </tr>
        {{~it.simStringsArray :value:index}}
        <tr data-string-key={{=value.key}} data-string-repo={{=value.repo}}>
          <td>{{=value.key}}</td>
          <td>{{=value.englishValue}}</td>
          <td>
            <div contenteditable="true">{{=value.value}}</div>
            <input type="hidden" name="{{=value.repo}} {{=value.key}}" value="{{=value.value}}">
          </td>
        </tr>
        {{~}}
      </table>
    {{?}}

    <h2>Common Strings (will affect multiple simulations)</h2>

    <table id="commonStringsTable" class="rosetta-table">
      <tr>
        <th><strong>String Key</strong></th>
        <th><strong>English</strong></th>
        <th><strong>{{=it.destinationLanguage}}</strong></th>
      </tr>
      {{~it.commonStringsArray :value:index}}
      <tr data-string-key={{=value.key}} data-string-repo={{=value.repo}}>
        <td>{{=value.key}}</td>
        <td>{{=value.englishValue}}</td>
        <td>
          <div contenteditable="true">{{=value.value}}</div>
          <input type="hidden" name="{{=value.repo}} {{=value.key}}" value="{{=value.value}}">
        </td>
      </tr>
      {{~}}
    </table>

  </form>

  <div class="bottom-btns">
    <button type="button" class="btn translate-btn" id="testButtonBottom">Test</button>
    <button type="button" class="btn translate-btn" id="saveButtonBottom" form="strings">Save</button>
    <button type="submit" class="btn translate-btn" id="submitButtonBottom" form="strings">Submit</button>
    <a class="btn translate-btn" href="https://docs.google.com/document/d/11BLxC7eDct6eifH1-nR6tWaxlnGeNEn2SPquT-lIUgY/edit" target="_blank">
      Help <i class="fa fa-question-circle"></i>
    </a>
    <span class="saving-gif">Saving... <img src="/translate/img/spinning-wheel.gif"></span>
    <span class="savedSpan" id="savedBottom"><br><br>Saved</span>
  </div>
  <div class="validation-message"></div>

  <!--data for sim url-->
  <div id="simData" data-sim-url={{=it.simUrl}} data-sim-name={{=it.simName}} data-locale-name={{=it.localeName}}
       data-trusted-translator={{=it.trustedTranslator}} data-direction={{=it.direction}}></div>

  <script type="text/javascript" src="/translate/js/translate-sim.js"></script>
</div><!-- /.container -->

